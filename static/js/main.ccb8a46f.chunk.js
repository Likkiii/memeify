(this.webpackJsonpmemeapp=this.webpackJsonpmemeapp||[]).push([[0],{34:function(e,t,a){e.exports=a(45)},39:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(11),i=a.n(l),r=(a(39),a(29)),c=a(64),s=a(69),d=a(66),h=a(67),m=a(68),u=Object(c.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,color:"white"}}}));var g=function(){var e=u(),t=Object(n.useState)(!1),a=Object(r.a)(t,2),l=a[0],i=a[1];return o.a.createElement(s.a,{position:"static",className:"inverted-theme"},o.a.createElement(d.a,null,o.a.createElement(m.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"}),o.a.createElement(h.a,{variant:"h6",className:e.title},o.a.createElement("img",{className:"inverted inverted-theme",src:"https://upload.wikimedia.org/wikipedia/en/9/9a/Trollface_non-free.png",alt:"Problem?",height:"50px",width:"50px"})),o.a.createElement(h.a,{variant:"h5",className:e.title},o.a.createElement("p",null,"Meme Generator")),o.a.createElement(h.a,{variant:"h6"},o.a.createElement("label",{className:"theme-switch",htmlFor:"checkbox"},o.a.createElement("input",{type:"checkbox",id:"checkbox",onChange:function(e){var t=document.querySelectorAll(".inverted");document.body.classList.toggle("inverted-theme"),t.forEach((function(e){return e.classList.toggle("inverted-theme")})),i(!l)}}),o.a.createElement("div",{className:"slider round"})))))},v=a(23),p=a(19),f=a(26),C=a(27),b=a(8),x=a(30),w=a(28);var k=function(e){var t=this,a=e.state.texts;return console.log(a),o.a.createElement("form",{className:"meme-form",onSubmit:e.handleSubmit},e.state.texts.map((function(a){return o.a.createElement("div",null,o.a.createElement("input",{className:"input",key:a.id,type:"text",name:a.text,placeholder:"Funny text goes here....",value:a.text,onChange:e.handleChange.bind(t,a.id)}),o.a.createElement("input",{className:"colorPicker",type:"color",name:"bottomColor",value:a.color,onChange:e.handleColorChange.bind(t,a.id)}),o.a.createElement("input",{className:"colorPicker",type:"color",name:"bottomBorderColor",value:a.borderColor,onChange:e.handleBorderColorChange.bind(t,a.id)}))})),o.a.createElement("div",{className:"input-control"},o.a.createElement("button",{id:"remove ",className:"inverted",onClick:e.handleRemoveText},"-"),o.a.createElement("button",{id:"add",className:"inverted",onClick:e.handleAddText},"+")),o.a.createElement("button",{type:"submit",onClick:e.handleRandomClick,className:"inverted"},"Random"),o.a.createElement("button",{type:"submit",onClick:e.handleDownloadClick,className:"inverted"},"Download"),o.a.createElement("button",{className:"cutom-file-upload inverted",type:"button",onClick:function(){document.getElementById("file-upload").click()}},"Upload Your Photo"),o.a.createElement("input",{id:"file-upload",type:"file",onChange:e.handleFileChange}))};var E=function(e){return o.a.createElement("div",{className:"meme"},o.a.createElement("center",null,o.a.createElement("canvas",{id:"my-canvas",className:"inverted",width:"568px",height:"335px"})))},y=function(e,t,a){var n=t,o=e;t>a&&(o=e*(a/t),n=a);return{newheight:n,newwidth:o}},F=function(e){Object(x.a)(a,e);var t=Object(w.a)(a);function a(){var e;return Object(f.a)(this,a),(e=t.call(this)).setImage=function(){console.log(e.state);var t=e.state,a=t.image,n=t.texts,o=t.height,l=t.width,i=t.url,r=t.maxHeight,c=document.getElementById("my-canvas"),s=c.getContext("2d");a.src=i,a.crossOrigin="anonymous";var d=y(l,o,r),h=d.newheight,m=d.newwidth;a.onload=function(){c.height=h,c.width=m,s.drawImage(a,0,0,l,o,0,0,m,h);for(var e=0;e<n.length;e++){s.font="2em impact, sans-serif";var t=n[e],i=t.text,r=t.color,d=t.borderColor,u=t.x,g=t.y;t.size,s.measureText(i).width;s.strokeStyle=d,s.strokeText(i,u,g),s.fillStyle=r,s.fillText(i,u,g)}}},e.handleColorChange=function(t,a){var n=a.target,o=n.name,l=n.value;setTimeout((function(){Object(p.a)(e.state.texts)[t].color=l,e.setState(Object(v.a)({},o,l))}),250)},e.handleBorderColorChange=function(t,a){var n=a.target,o=n.name,l=n.value;setTimeout((function(){Object(p.a)(e.state.texts)[t].borderColor=l,e.setState(Object(v.a)({},o,l))}),250)},e.state={texts:[{id:0,text:"Top",color:"#000000",borderColor:"#FFFFFF",size:10,x:250,y:50},{id:1,text:"Bottom",color:"#000000",borderColor:"#FFFFFF",size:10,x:250,y:300}],context:void 0,canvas:void 0,topText:"",bottomText:"",bottomColor:"#000000",bottomBorderColor:"#FFFFFF",height:335,width:568,url:"http://i.imgflip.com/1bij.jpg",allMemeImgs:[],image:void 0,maxHeight:Math.floor(.8*window.innerHeight),updateImage:!1},e.componentDidMount=e.componentDidMount.bind(Object(b.a)(e)),e.handleChange=e.handleChange.bind(Object(b.a)(e)),e.handleRandomClick=e.handleRandomClick.bind(Object(b.a)(e)),e.handleFileChange=e.handleFileChange.bind(Object(b.a)(e)),e.handleAddText=e.handleAddText.bind(Object(b.a)(e)),e.handleRemoveText=e.handleRemoveText.bind(Object(b.a)(e)),e.selectedText=-1,e}return Object(C.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.url,a=new Image;a.src=t,console.log(a.src),fetch("https://api.imgflip.com/get_memes").then((function(e){return e.json()})).then((function(t){var n=t.data.memes;e.setState({allMemeImgs:n,image:a})})).then((function(){var t=document.getElementById("my-canvas"),a=t.getContext("2d");e.setState({context:a,canvas:t}),console.log(e.state)}))}},{key:"componentDidUpdate",value:function(){this.setImage()}},{key:"handleChange",value:function(e,t){t.preventDefault();var a=t.target.value,n=Object(p.a)(this.state.texts);n[e].text=a,this.setState({texts:n})}},{key:"handleAddText",value:function(e){e.preventDefault();var t=Object(p.a)(this.state.texts);t.push({id:t.length,text:"",color:"#000000",borderColor:"#FFFFFF",size:10,x:50,y:50}),this.setState({texts:t})}},{key:"handleRemoveText",value:function(e){e.preventDefault();var t=this.state.texts.slice(0,-1);this.setState({texts:t})}},{key:"handleRandomClick",value:function(e){e.preventDefault();var t=Math.floor(Math.random()*this.state.allMemeImgs.length),a=this.state.allMemeImgs[t],n=a.url,o=a.width,l=a.height;this.setState({url:n,width:o,height:l,updateImage:!0}),console.log(this.state)}},{key:"handleFileChange",value:function(e){var t=this,a=window.URL.createObjectURL(e.target.files[0]),n=new Image;n.onload=function(){var e=y(this.width,this.height),n=e.newheight,o=e.newwidth;t.setState({url:a,width:o,height:n,updateImage:!0})},n.src=a}},{key:"handleDownloadClick",value:function(e){e.preventDefault(),console.log(e);var t=document.getElementById("my-canvas").toDataURL("image/jpeg"),a=new Image;a.crossOrigin="anonymous",a.href=t;var n=document.createElement("a");n.download="meme.jpeg",n.href=t,n.click()}},{key:"render",value:function(){return o.a.createElement("div",{className:"memeRoot"},o.a.createElement(k,{state:this.state,handleRandomClick:this.handleRandomClick,handleChange:this.handleChange,handleChangeBT:this.handleChangeBT,handleColorChange:this.handleColorChange,handleBorderColorChange:this.handleBorderColorChange,handleFileChange:this.handleFileChange,handleAddText:this.handleAddText,handleRemoveText:this.handleRemoveText,handleDownloadClick:this.handleDownloadClick}),o.a.createElement(E,null))}}]),a}(n.Component);a(44);var j=function(){return o.a.createElement("div",{className:"app-container","data-theme":"dark"},o.a.createElement(g,null),o.a.createElement(F,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.ccb8a46f.chunk.js.map